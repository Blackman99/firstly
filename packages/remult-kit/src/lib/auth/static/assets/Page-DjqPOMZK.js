import{n as D,s as Kt,r as T,a as j,i as Et,g as Pt,S as H,b as B,c as dt,e as mt,d as k,t as P,f as yt,h as y,j as Dt,k as v,l as O,m as Lt,o as x,p as $t,q as tt,u as St,v as ht,w as gt,x as _t,y as bt,z as V,A as w,B as et,C as U,D as N,E as st,F as It,G as Ft,H as L,I as E,J as m,K as $,L as nt,M as A,N as wt,O as z,P as kt,Q as S,R as I,T as F}from"./index-DwoxgKjG.js";function Rt(e,t){const s={},n={},o={$$scope:1};let r=e.length;for(;r--;){const l=e[r],a=t[r];if(a){for(const f in l)f in a||(n[f]=1);for(const f in a)o[f]||(s[f]=a[f],o[f]=1);e[r]=a}else for(const f in l)o[f]=1}for(const l in n)l in s||(s[l]=void 0);return s}const R=[];function X(e,t){return{subscribe:G(e,t).subscribe}}function G(e,t=D){let s;const n=new Set;function o(a){if(j(e,a)&&(e=a,s)){const f=!R.length;for(const i of n)i[1](),R.push(i,e);if(f){for(let i=0;i<R.length;i+=2)R[i][0](R[i+1]);R.length=0}}}function r(a){o(a(e))}function l(a,f=D){const i=[a,f];return n.add(i),n.size===1&&(s=t(o,r)||D),a(e),()=>{n.delete(i),n.size===0&&s&&(s(),s=null)}}return{set:o,update:r,subscribe:l}}function q(e,t,s){const n=!Array.isArray(e),o=n?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return X(s,(l,a)=>{let f=!1;const i=[];let c=0,u=D;const h=()=>{if(c)return;u();const _=t(n?i[0]:i,l,a);r?l(_):u=Et(_)?_:D},p=o.map((_,g)=>Kt(_,b=>{i[g]=b,c&=~(1<<g),f&&h()},()=>{c|=1<<g}));return f=!0,h(),function(){T(p),u(),f=!1}})}const At=e=>{const{subscribe:t,update:s}=G(e);return{subscribe:t,set:(n={})=>{s(o=>Object.assign(o,n))}}},J=At({mode:"window",basePath:null}),Q=(e=Pt(J).mode)=>{let t="popstate";e==="window"&&(t="popstate"),e==="hash"&&(t="hashchange"),window.dispatchEvent(new Event(t))},ot={go:(e=0)=>{history.go(e),Q()},push:(e,t=null)=>{history.pushState(t,"",e),Q()},replace:(e,t=null)=>{history.replaceState(t,"",e),Q()}},Nt=(e,t)=>t===null?e:e.startsWith(t)?e.slice(t.length):e,Ot=e=>{const t=e.match(/^(\/[^?#]*)?/),s=e.match(/\?([^#]*)?/),n=e.match(/#(.*)?/);return{path:(t==null?void 0:t[1])||"/",query:s!=null&&s[1]?`?${s==null?void 0:s[1]}`:"",hash:n!=null&&n[1]?`#${n==null?void 0:n[1]}`:""}},lt=()=>{const{pathname:e,search:t,hash:s}=document.location;return{path:e,query:t,hash:s}},rt=()=>{let e=document.location.hash.substring(1);return e[0]!=="/"&&(e="/"+e),Ot(e)},Ht=X(lt(),e=>{const t=()=>e(lt());return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)}),Bt=X(rt(),e=>{const t=()=>e(rt());return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)}),Z=q([J,Ht,Bt],([e,t,s],n)=>{e.mode==="window"&&n(t),e.mode==="hash"&&n(s)}),qt=q(Z,e=>e.path);q(Z,e=>e.query);q(Z,e=>e.hash);const Wt=q([J,qt],([e,t])=>Nt(t,e.basePath)),W=e=>e.split(/(?=\/)/),Ct=()=>{let e=0;return()=>e++};function at(e){let t;const s=e[10].default,n=ht(s,e,e[9],null);return{c(){n&&n.c()},m(o,r){n&&n.m(o,r),t=!0},p(o,r){n&&n.p&&(!t||r&512)&&gt(n,s,o,o[9],t?bt(s,o[9],r,null):_t(o[9]),null)},i(o){t||(P(n,o),t=!0)},o(o){y(n,o),t=!1},d(o){n&&n.d(o)}}}function zt(e){let t=it(e[1],e[0],e[2]),s,n,o=t&&at(e);return{c(){o&&o.c(),s=mt()},m(r,l){o&&o.m(r,l),k(r,s,l),n=!0},p(r,[l]){l&7&&(t=it(r[1],r[0],r[2])),t?o?(o.p(r,l),l&7&&P(o,1)):(o=at(r),o.c(),P(o,1),o.m(s.parentNode,s)):o&&(yt(),y(o,1,1,()=>{o=null}),Dt())},i(r){n||(P(o),n=!0)},o(r){y(o),n=!1},d(r){r&&v(s),o&&o.d(r)}}}const Tt=(e,t,s,n,o)=>{const r=(i,c,u)=>{const h=W(c).filter(p=>p!=="/").length;return(u??0)+(i?1:h)},l=(i,c)=>{const u={invalidPath:`<Route path="${i==null?void 0:i.path}" /> has invalid path. Path must start with '/'`,fallbackOutsideRoot:"<Route fallback /> cannot be outside root <Route />",pathOutsideRoot:`<Route path="${i==null?void 0:i.path}" /> cannot be outside root <Route />`,fallbackInsideFallback:"<Route fallback /> cannot be inside <Route fallback>",pathInsideFallback:`<Route path="${i==null?void 0:i.path}" /> cannot be inside <Route fallback>`};if(i.path[0]!=="/")throw new Error(u.invalidPath);if(i.root&&i.fallback)throw new Error(u.fallbackOutsideRoot);if(i.root&&i.path!=="/")throw new Error(u.pathOutsideRoot);if(c!=null&&c.fallback&&i.fallback)throw new Error(u.fallbackInsideFallback);if(c!=null&&c.fallback&&!i.fallback)throw new Error(u.pathInsideFallback)},a=r(s,n,o==null?void 0:o.depth),f={id:e,root:t,fallback:s,path:n,depth:a};return l(f,o),f},jt=()=>{const{subscribe:e,update:t}=G([]);return{subscribe:e,update:s=>t(n=>[...n.filter(o=>s.id!==o.id),s]),remove:s=>t(n=>n.filter(o=>s.id!==o.id))}},it=(e,t,s)=>{const n=(i,c,u,h)=>{let p=W(i).filter(b=>b!=="/"),_=W(u).filter(b=>b!=="/"),g="";if(u==="/")return c||p.length===h;for(let b=h-_.length;b<h;b++)g=g+p[b];return u===g},o=(i,c,u)=>{var _,g,b,d;let h=W(i).filter(K=>K!=="/"),p=!1;for(let K=0;K<(u==null?void 0:u.length)&&!p;K++)(_=u[K])!=null&&_.fallback||(p=n(i,((g=u[K])==null?void 0:g.root)??!1,((b=u[K])==null?void 0:b.path)??"",((d=u[K])==null?void 0:d.depth)??0));return h.length>=c&&!p},{root:r,fallback:l,path:a,depth:f}=t;return l?o(e,f,s):n(e,r,a,f)},Ut=Ct(),Y={},ft={};function Gt(e,t,s){let n,o,r,l;O(e,Wt,d=>s(1,r=d));let{$$slots:a={},$$scope:f}=t;const i=Ut(),c=!Lt(Y);let{fallback:u=!1}=t,{path:h="/"}=t;const p=G();O(e,p,d=>s(0,n=d));const _=x(Y);O(e,_,d=>s(8,o=d));const g=jt(),b=x(ft);return O(e,b,d=>s(2,l=d)),$t(()=>b==null?void 0:b.remove(n)),tt(Y,p),tt(ft,g),e.$$set=d=>{"fallback"in d&&s(6,u=d.fallback),"path"in d&&s(7,h=d.path),"$$scope"in d&&s(9,f=d.$$scope)},e.$$.update=()=>{e.$$.dirty&448&&St(p,n=Tt(i,c,u,h,o),n),e.$$.dirty&1&&(b==null||b.update(n))},[n,r,l,p,_,b,u,h,o,f,a]}class C extends H{constructor(t){super(),B(this,t,Gt,zt,dt,{fallback:6,path:7})}}const ut=e=>{var a;const t=(a=e.target)==null?void 0:a.closest("a[href]"),s=t==null?void 0:t.href;if(t===null||s===null)return!0;const n=["","true"].includes(t.getAttribute("data-handle-ignore")??"false"),o=(t.getAttribute("target")??"_self")!=="_self",r=e.metaKey||e.ctrlKey||e.altKey||e.shiftKey,l=new URL(s).origin!==document.location.origin;if(n||o||r||l)return!0;s===document.location.href?ot.replace(s):ot.push(s),e.preventDefault()},Jt=e=>(e.addEventListener("click",ut),{destroy:()=>{e.removeEventListener("click",ut)}});function Qt(e){let t,s,n,o;const r=e[5].default,l=ht(r,e,e[4],null);let a=[{href:e[0]},e[1]],f={};for(let i=0;i<a.length;i+=1)f=V(f,a[i]);return{c(){t=w("a"),l&&l.c(),et(t,f)},m(i,c){k(i,t,c),l&&l.m(t,null),s=!0,n||(o=[U(Jt.call(null,t)),N(t,"click",e[6])],n=!0)},p(i,[c]){l&&l.p&&(!s||c&16)&&gt(l,r,i,i[4],s?bt(r,i[4],c,null):_t(i[4]),null),et(t,f=Rt(a,[(!s||c&1)&&{href:i[0]},c&2&&i[1]]))},i(i){s||(P(l,i),s=!0)},o(i){y(l,i),s=!1},d(i){i&&v(t),l&&l.d(i),n=!1,T(o)}}}const Yt=(e,t,s)=>(e==="hash"?"#":"")+(t??"")+s;function Vt(e,t,s){let n;const o=["href"];let r=st(t,o),l;O(e,J,u=>s(3,l=u));let{$$slots:a={},$$scope:f}=t,{href:i}=t;function c(u){Ft.call(this,e,u)}return e.$$set=u=>{t=V(V({},t),It(u)),s(1,r=st(t,o)),"href"in u&&s(2,i=u.href),"$$scope"in u&&s(4,f=u.$$scope)},e.$$.update=()=>{e.$$.dirty&12&&s(0,n=Yt(l.mode,l.basePath,i))},[n,r,i,l,f,a,c]}class vt extends H{constructor(t){super(),B(this,t,Vt,Qt,dt,{href:2})}}function M(e){e.focus()}function Xt(e){let t,s,n,o,r,l,a;return{c(){t=w("div"),s=w("form"),n=w("input"),o=L(),r=w("button"),r.textContent="Send password reset instructions",E(n,"type","text"),E(n,"placeholder","Your email address"),E(s,"class","svelte-wbnhh7"),E(t,"class","login")},m(f,i){k(f,t,i),m(t,s),m(s,n),m(s,o),m(s,r),l||(a=U(M.call(null,n)),l=!0)},p:D,i:D,o:D,d(f){f&&v(t),l=!1,a()}}}function Zt(e,t,s){let{remultKitData:n}=t;return e.$$set=o=>{"remultKitData"in o&&s(0,n=o.remultKitData)},e.$$.update=()=>{e.$$.dirty&1&&(n||s(0,n={props:{paths:{base:"/kit/auth",login:"/login",forgottenPassword:"/forgotten-password"}}}))},[n]}class Mt extends H{constructor(t){super(),B(this,t,Zt,Xt,j,{remultKitData:0})}}function ct(e){let t,s,n,o,r,l,a,f,i,c,u,h,p,_,g,b;return{c(){t=w("form"),s=w("p"),n=$(e[1]),o=$(e[2]),r=L(),l=w("label"),a=$(`Username
      `),f=w("input"),i=L(),c=w("label"),u=$(`Password
      `),h=w("input"),p=L(),_=w("button"),_.textContent="Login",E(s,"class","message svelte-1rtdg09"),nt(s,"error",e[1]),E(f,"type","text"),E(h,"type","password"),E(t,"class","svelte-1rtdg09")},m(d,K){k(d,t,K),m(t,s),m(s,n),m(s,o),m(t,r),m(t,l),m(l,a),m(l,f),A(f,e[0]),m(t,i),m(t,c),m(c,u),m(c,h),A(h,e[4]),m(t,p),m(t,_),g||(b=[N(f,"input",e[9]),U(M.call(null,f)),N(h,"input",e[10]),N(t,"submit",wt(e[6]))],g=!0)},p(d,K){K&2&&z(n,d[1]),K&4&&z(o,d[2]),K&2&&nt(s,"error",d[1]),K&1&&f.value!==d[0]&&A(f,d[0]),K&16&&h.value!==d[4]&&A(h,d[4])},d(d){d&&v(t),g=!1,T(b)}}}function pt(e){let t,s,n,o,r,l,a,f,i,c,u,h;return{c(){t=w("form"),s=w("p"),n=$(e[1]),o=$(e[2]),r=L(),l=w("label"),a=$(`PIN
      `),f=w("input"),i=L(),c=w("button"),c.textContent="Confirm",E(f,"type","number"),E(f,"placeholder","556775"),E(t,"class","svelte-1rtdg09")},m(p,_){k(p,t,_),m(t,s),m(s,n),m(s,o),m(t,r),m(t,l),m(l,a),m(l,f),A(f,e[5]),m(t,i),m(t,c),u||(h=[N(f,"input",e[11]),U(M.call(null,f)),N(t,"submit",wt(e[7]))],u=!0)},p(p,_){_&2&&z(n,p[1]),_&4&&z(o,p[2]),_&32&&kt(f.value)!==p[5]&&A(f,p[5])},d(p){p&&v(t),u=!1,T(h)}}}function xt(e){let t,s,n=e[3]=="login"&&ct(e),o=e[3]=="pin"&&pt(e);return{c(){n&&n.c(),t=L(),o&&o.c(),s=mt()},m(r,l){n&&n.m(r,l),k(r,t,l),o&&o.m(r,l),k(r,s,l)},p(r,[l]){r[3]=="login"?n?n.p(r,l):(n=ct(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),r[3]=="pin"?o?o.p(r,l):(o=pt(r),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i:D,o:D,d(r){r&&(v(t),v(s)),n&&n.d(r),o&&o.d(r)}}}function te(e,t,s){let{remultKitData:n}=t,{view:o="login"}=t,{indentifier:r=""}=t,{msgError:l=""}=t,{msgSuccess:a=""}=t,f,i;async function c(){s(1,l=""),s(2,a="")}const u=()=>{throw new Error("Not impl yet")};function h(){r=this.value,s(0,r)}function p(){f=this.value,s(4,f)}function _(){i=kt(this.value),s(5,i)}return e.$$set=g=>{"remultKitData"in g&&s(8,n=g.remultKitData),"view"in g&&s(3,o=g.view),"indentifier"in g&&s(0,r=g.indentifier),"msgError"in g&&s(1,l=g.msgError),"msgSuccess"in g&&s(2,a=g.msgSuccess)},e.$$.update=()=>{e.$$.dirty&256&&(n||s(8,n={props:{paths:{base:"/kit/auth",login:"/login",forgottenPassword:"/forgotten-password"}}}))},[r,l,a,o,f,i,c,u,n,h,p,_]}class ee extends H{constructor(t){super(),B(this,t,te,xt,j,{remultKitData:8,view:3,indentifier:0,msgError:1,msgSuccess:2})}}function se(e){let t;return{c(){t=$("Forgot your password?")},m(s,n){k(s,t,n)},d(s){s&&v(t)}}}function ne(e){let t,s,n,o,r;return t=new ee({props:{remultKitData:e[0]}}),o=new vt({props:{href:e[2],$$slots:{default:[se]},$$scope:{ctx:e}}}),{c(){S(t.$$.fragment),s=L(),n=w("div"),S(o.$$.fragment),E(n,"class","form-footer svelte-15iffyp")},m(l,a){I(t,l,a),k(l,s,a),k(l,n,a),I(o,n,null),r=!0},p(l,a){const f={};a&1&&(f.remultKitData=l[0]),t.$set(f);const i={};a&4&&(i.href=l[2]),a&8&&(i.$$scope={dirty:a,ctx:l}),o.$set(i)},i(l){r||(P(t.$$.fragment,l),P(o.$$.fragment,l),r=!0)},o(l){y(t.$$.fragment,l),y(o.$$.fragment,l),r=!1},d(l){l&&(v(s),v(n)),F(t,l),F(o)}}}function oe(e){let t;return{c(){t=$("Back to login")},m(s,n){k(s,t,n)},d(s){s&&v(t)}}}function le(e){let t,s,n,o,r;return t=new Mt({props:{remultKitData:e[0]}}),o=new vt({props:{href:e[1],$$slots:{default:[oe]},$$scope:{ctx:e}}}),{c(){S(t.$$.fragment),s=L(),n=w("div"),S(o.$$.fragment),E(n,"class","form-footer svelte-15iffyp")},m(l,a){I(t,l,a),k(l,s,a),k(l,n,a),I(o,n,null),r=!0},p(l,a){const f={};a&1&&(f.remultKitData=l[0]),t.$set(f);const i={};a&2&&(i.href=l[1]),a&8&&(i.$$scope={dirty:a,ctx:l}),o.$set(i)},i(l){r||(P(t.$$.fragment,l),P(o.$$.fragment,l),r=!0)},o(l){y(t.$$.fragment,l),y(o.$$.fragment,l),r=!1},d(l){l&&(v(s),v(n)),F(t,l),F(o)}}}function re(e){let t;return{c(){t=w("div"),t.innerHTML="<small>Nothing to see here</small>",E(t,"class","fallback svelte-15iffyp")},m(s,n){k(s,t,n)},p:D,d(s){s&&v(t)}}}function ae(e){let t,s,n,o,r,l;return t=new C({props:{path:e[1],$$slots:{default:[ne]},$$scope:{ctx:e}}}),n=new C({props:{path:e[2],$$slots:{default:[le]},$$scope:{ctx:e}}}),r=new C({props:{fallback:!0,$$slots:{default:[re]},$$scope:{ctx:e}}}),{c(){S(t.$$.fragment),s=L(),S(n.$$.fragment),o=L(),S(r.$$.fragment)},m(a,f){I(t,a,f),k(a,s,f),I(n,a,f),k(a,o,f),I(r,a,f),l=!0},p(a,f){const i={};f&2&&(i.path=a[1]),f&13&&(i.$$scope={dirty:f,ctx:a}),t.$set(i);const c={};f&4&&(c.path=a[2]),f&11&&(c.$$scope={dirty:f,ctx:a}),n.$set(c);const u={};f&8&&(u.$$scope={dirty:f,ctx:a}),r.$set(u)},i(a){l||(P(t.$$.fragment,a),P(n.$$.fragment,a),P(r.$$.fragment,a),l=!0)},o(a){y(t.$$.fragment,a),y(n.$$.fragment,a),y(r.$$.fragment,a),l=!1},d(a){a&&(v(s),v(o)),F(t,a),F(n,a),F(r,a)}}}function ie(e){let t,s,n,o,r;return o=new C({props:{$$slots:{default:[ae]},$$scope:{ctx:e}}}),{c(){t=w("div"),s=w("div"),n=$(`1234
    `),S(o.$$.fragment),E(s,"class","form svelte-15iffyp"),E(t,"class","wrapper svelte-15iffyp")},m(l,a){k(l,t,a),m(t,s),m(s,n),I(o,s,null),r=!0},p(l,[a]){const f={};a&15&&(f.$$scope={dirty:a,ctx:l}),o.$set(f)},i(l){r||(P(o.$$.fragment,l),r=!0)},o(l){y(o.$$.fragment,l),r=!1},d(l){l&&v(t),F(o)}}}function fe(e,t,s){let n,o,{remultKitData:r}=t;return e.$$set=l=>{"remultKitData"in l&&s(0,r=l.remultKitData)},e.$$.update=()=>{e.$$.dirty&1&&s(2,n=r.props.paths.base+r.props.paths.forgottenPassword),e.$$.dirty&1&&s(1,o=r.props.paths.base+r.props.paths.login)},[r,o,n]}class ce extends H{constructor(t){super(),B(this,t,fe,ie,j,{remultKitData:0})}}export{ce as default};
